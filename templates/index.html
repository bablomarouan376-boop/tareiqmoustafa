<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>SecuCode Pro | Elite Cyber Security</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Manifest -->
<link rel="manifest" href="/static/manifest.json">
<meta name="theme-color" content="#020617">

<!-- Icons -->
<link rel="icon" href="/static/og-image.jpg">
<link rel="apple-touch-icon" href="/static/og-image.jpg">

<!-- QR Generator -->
<script src="https://cdn.jsdelivr.net/npm/qrcodejs/qrcode.min.js"></script>

<style>
:root{
--bg:#020617;--card:#020b1f;--primary:#22d3ee;
--safe:#22c55e;--warn:#facc15;--danger:#ef4444;
--text:#e5e7eb;--muted:#94a3b8;
}
*{box-sizing:border-box;font-family:system-ui}
body{
margin:0;min-height:100vh;
background:radial-gradient(circle,#020b1f,#020617);
color:var(--text);
display:flex;justify-content:center;align-items:center;padding:20px
}
.card{
width:100%;max-width:480px;
background:linear-gradient(145deg,#020b1f,#020617);
border-radius:24px;padding:25px;
border:1px solid #22d3ee33;
box-shadow:0 0 40px #22d3ee22;
animation:fade .6s ease
}
@keyframes fade{from{opacity:0;transform:scale(.95)}}
header{text-align:center;margin-bottom:20px}
header img{width:90px}
h1{color:var(--primary);margin:10px 0}
input{
width:100%;padding:14px;border-radius:14px;
background:#020617;border:1px solid #ffffff22;
color:var(--text);outline:none;margin-bottom:10px
}
button{
width:100%;padding:14px;border-radius:14px;
border:none;cursor:pointer;
background:linear-gradient(135deg,#22d3ee,#0ea5e9);
color:#020617;font-weight:800
}
.loader{
display:none;margin:15px auto;width:40px;height:40px;
border:4px solid #22d3ee44;border-top:4px solid #22d3ee;
border-radius:50%;animation:spin 1s linear infinite
}
@keyframes spin{to{transform:rotate(360deg)}}
.result{
display:none;margin-top:15px;padding:15px;
border-radius:14px;font-size:.9rem
}
.safe{background:#052e1a;border:1px solid var(--safe)}
.warn{background:#3a2e05;border:1px solid var(--warn)}
.danger{background:#3a0b0b;border:1px solid var(--danger)}
.score{
margin-top:10px;font-size:1.2rem;font-weight:900;text-align:center
}
#qrcode{margin-top:15px;text-align:center}
.history, .dev{
margin-top:20px;font-size:.8rem;color:var(--muted)
}
.history div{border-bottom:1px dashed #ffffff22;padding:4px 0}
.dev{display:none}
.toggle{
margin-top:10px;background:none;border:none;
color:var(--primary);cursor:pointer
}
</style>
</head>

<body>
<div class="card">
<header>
<img src="/static/og-image.jpg">
<h1>SecuCode Pro</h1>
<p>Elite Cyber Security Platform</p>
</header>

<input id="url" placeholder="https://example.com">
<button onclick="scan()">ŸÅÿ≠ÿµ ÿßŸÑÿ±ÿßÿ®ÿ∑</button>

<div class="loader" id="loader"></div>
<div class="result" id="result"></div>
<div class="score" id="score"></div>
<div id="qrcode"></div>

<button class="toggle" onclick="toggleDev()">‚öô Developer Panel</button>

<div class="dev" id="dev">
<button onclick="exportCSV()">‚¨á Export CSV</button>
</div>

<div class="history" id="history"></div>
</div>

<script>
const loader = document.getElementById("loader");
const result = document.getElementById("result");
const scoreBox = document.getElementById("score");
const historyBox = document.getElementById("history");
const qrBox = document.getElementById("qrcode");
loadHistory();

function randomScore(){
return Math.floor(Math.random()*60)+40;
}

async function scan(){
const url=document.getElementById("url").value;
if(!url){alert("ÿ£ÿØÿÆŸÑ ÿ±ÿßÿ®ÿ∑");return;}

loader.style.display="block";
result.style.display="none";
scoreBox.innerHTML="";
qrBox.innerHTML="";

setTimeout(()=>{
loader.style.display="none";

const score=randomScore();
let level="safe",text="ÿ¢ŸÖŸÜ";
if(score<70){level="warn";text="ŸÖÿ¥ÿ®ŸàŸá"}
if(score<50){level="danger";text="ÿÆÿ∑ÿ±"}

result.className="result "+level;
result.style.display="block";
result.innerHTML=`üîç <b>${text}</b><br>${url}`;
scoreBox.innerHTML=`Security Score: ${score}/100`;

new QRCode(qrBox,{text:url,width:128,height:128});

saveHistory(url,score);
},1500);
}

function saveHistory(url,score){
let h=JSON.parse(localStorage.getItem("history")||"[]");
h.unshift({url,score});
h=h.slice(0,5);
localStorage.setItem("history",JSON.stringify(h));
loadHistory();
}

function loadHistory(){
let h=JSON.parse(localStorage.getItem("history")||"[]");
historyBox.innerHTML="<b>ÿ¢ÿÆÿ± ÿßŸÑŸÅÿ≠Ÿàÿµÿßÿ™:</b>";
h.forEach(i=>{
historyBox.innerHTML+=`<div>${i.score}/100 - ${i.url}</div>`;
});
}

function exportCSV(){
let h=JSON.parse(localStorage.getItem("history")||"[]");
let csv="URL,Score\n";
h.forEach(i=>csv+=`${i.url},${i.score}\n`);
const blob=new Blob([csv],{type:"text/csv"});
const a=document.createElement("a");
a.href=URL.createObjectURL(blob);
a.download="secuCode-report.csv";
a.click();
}

function toggleDev(){
document.getElementById("dev").style.display=
document.getElementById("dev").style.display==="none"?"block":"none";
}
</script>
</body>
</html>
